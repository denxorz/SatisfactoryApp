<Window x:Class="SatisfactoryDesktop.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SatisfactoryDesktop"
        mc:Ignorable="d"
        Title="Statisfactory pre-loader" Height="320" Width="720" MinHeight="300" MinWidth="640"
        ResizeMode="NoResize">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="150" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border x:Name="DropZone"
                    Margin="0,6,0,0"
                    Padding="12"
                    AllowDrop="True"
                    MouseLeftButtonUp="DropZone_MouseLeftButtonUp"
                    DragEnter="DropZone_DragEnter"
                    DragLeave="DropZone_DragLeave"
                    Drop="DropZone_Drop">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Rectangle x:Name="DropZoneOutline"
                               Stroke="#555555"
                               StrokeThickness="1"
                               StrokeDashArray="4 3"
                               RadiusX="6"
                               RadiusY="6" Margin="3" />
                <TextBlock x:Name="DropZoneHint"
                               Text="Drop a .sav file here or click to browse"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center" />
            </Grid>
        </Border>

        <Grid Grid.Row="1"
              x:Name="Spinner"
              Width="36"
              Height="36"
              HorizontalAlignment="Center"
              Visibility="Collapsed">
            <Ellipse Stroke="#E59345"
                     StrokeThickness="3"
                     Opacity="0.3" />
            <Ellipse Stroke="#E59345"
                     StrokeThickness="3"
                     StrokeDashArray="2 6"
                     StrokeDashOffset="1"
                     RenderTransformOrigin="0.5,0.5">
                <Ellipse.RenderTransform>
                    <RotateTransform Angle="0" />
                </Ellipse.RenderTransform>
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetProperty="(Ellipse.RenderTransform).(RotateTransform.Angle)"
                                                 From="0"
                                                 To="360"
                                                 Duration="0:0:1" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
        </Grid>
    </Grid>
</Window>
